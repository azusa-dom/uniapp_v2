# ========================================
# UniApp Backend Environment Configuration
# ========================================

# Application
APP_ENV=development
APP_DEBUG=true
APP_HOST=0.0.0.0
APP_PORT=8000
APP_WORKERS=4

# Database
DATABASE_URL=postgresql+asyncpg://uniapp:uniapp_password@postgres:5432/uniapp
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis
REDIS_URL=redis://redis:6379/0
REDIS_CACHE_DB=1
REDIS_SESSION_DB=2

# JWT
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth2 (Optional)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# UCL API
UCL_API_BASE_URL=https://uclapi.com
UCL_API_TOKEN=uclapi-57b768cb3e4b8cc-2499552a17ad299-7ae012c12b7f9c3-1b31c15b5866279

# AI Services
DEEPSEEK_API_KEY=sk-your-deepseek-api-key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Vector Database
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=ucl_knowledge

# Email (IMAP/SMTP)
EMAIL_IMAP_HOST=imap.gmail.com
EMAIL_IMAP_PORT=993
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USE_TLS=true

# Moodle
MOODLE_BASE_URL=https://moodle.ucl.ac.uk
MOODLE_API_TOKEN=your-moodle-api-token

# WiseFlow (if applicable)
WISEFLOW_BASE_URL=https://wiseflow.ucl.ac.uk
WISEFLOW_USERNAME=
WISEFLOW_PASSWORD=

# Celery
CELERY_BROKER_URL=amqp://guest:guest@rabbitmq:5672//
CELERY_RESULT_BACKEND=redis://redis:6379/3

# MinIO/S3
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=uniapp
MINIO_USE_SSL=false

# APNs (Apple Push Notifications)
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-team-id
APNS_BUNDLE_ID=-.uniapp
APNS_USE_SANDBOX=true
APNS_KEY_PATH=/app/certs/apns-key.p8

# Monitoring
SENTRY_DSN=
PROMETHEUS_PORT=9090

# CORS
CORS_ORIGINS=["http://localhost:3000","https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
